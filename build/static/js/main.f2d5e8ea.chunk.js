(this.webpackJsonpstockr=this.webpackJsonpstockr||[]).push([[0],{205:function(e,t,n){e.exports=n(237)},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},217:function(e,t,n){},237:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o=n(17),l=n.n(o),s=n(140),u=n.n(s),d=(n(210),n(211),n(212),n(199)),p=n(97),m=(n(217),n(182)),b=n(57),f=n(243),O=n(244),h=n(62),j=n(248);!function(e){e.Pending="[Pending] Get ticker data",e.Success="[Success] Get ticker data"}(r||(r={})),function(e){e.Pending="[Pending] Find ticker",e.Success="[Success] Find ticker"}(c||(c={})),function(e){e.Pending="[Pending] Get ticker indicators",e.Success="[Success] Get ticker indicators"}(i||(i={})),Object(j.a)((a={},Object(h.a)(a,r.Pending,(function(e){return e})),Object(h.a)(a,r.Success,(function(e){return e})),Object(h.a)(a,i.Pending,(function(e){return e})),Object(h.a)(a,i.Success,(function(e){return e})),Object(h.a)(a,c.Pending,(function(e){return e})),Object(h.a)(a,c.Success,(function(e){return e})),a));var g=function(){var e=Object(p.b)(),t=Object(o.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],s=Object(p.c)((function(e){return e.stock.searchResult})),u=Object(o.useRef)(null),h=Object(o.useRef)(null),j=function(e){h.current&&h.current.contains(e.target)||i(!1)};Object(o.useEffect)((function(){return a&&document.addEventListener("click",j),function(){return document.removeEventListener("click",j)}}),[a]);var g=s.map((function(t){return l.a.createElement("div",{key:t["1. symbol"],className:"search__item",onClick:function(){return n=t["1. symbol"],e({type:r.Pending,payload:n}),void i(!1);var n}},l.a.createElement("div",{className:"search__item-row"},l.a.createElement("span",{className:"search__name"},t["2. name"]),l.a.createElement("span",{className:"search__flag"},t["4. region"])),l.a.createElement("div",{className:"search__item-row"},l.a.createElement("span",{className:"search__ticker"},t["1. symbol"])))}));return Object(o.useEffect)((function(){var t=Object(m.a)(u.current,"keyup").pipe(Object(b.a)((function(e){return e.target.value})),Object(f.a)(200),Object(O.a)()).subscribe((function(t){e({type:c.Pending,payload:t}),i(!0)}));return function(){return t.unsubscribe()}}),[e]),l.a.createElement("form",{className:"stock__search-form",onSubmit:function(e){e.preventDefault()}},l.a.createElement("input",{ref:u,type:"text",className:"stock__search",placeholder:"Search..."}),l.a.createElement("div",{className:"search__results",ref:h},a&&s.length>0&&g))},v=function(){return l.a.createElement("header",{className:"root__header"},l.a.createElement("h1",{className:"header__logo"},"Stockr"),l.a.createElement("div",{className:"header__search"},l.a.createElement(g,null)))},y=n(173),k=n(42),S=n(98),_=n(200);k.d(_.a);var E=function(){var e=Object(p.c)((function(e){return e.stock.loaded})),t=Object(p.c)((function(e){return e.stock.collection}));return Object(o.useEffect)((function(){var n=k.b("chartdiv",S.e);if(e){n.padding(20,20,20,20),n.data=Object(y.a)(t).splice(0,30),n.leftAxesContainer.layout="vertical";var a=n.xAxes.push(new S.c);a.renderer.grid.template.location=0,a.renderer.ticks.template.length=8,a.renderer.ticks.template.strokeOpacity=.1,a.renderer.grid.template.disabled=!1,a.renderer.ticks.template.disabled=!1,a.renderer.ticks.template.strokeOpacity=.2,a.renderer.minLabelPosition=.01,a.renderer.maxLabelPosition=.99,a.tooltip.fill=k.a("#1e88e5"),a.keepSelection=!0,a.minHeight=30,a.renderer.labels.template.fill=k.a("#fff"),a.groupData=!0,a.minZoomCount=5;var r=n.yAxes.push(new S.d);r.tooltip.disabled=!0,r.zIndex=1,r.renderer.baseGrid.disabled=!0,r.height=k.c(65),r.renderer.gridContainer.background.fill=k.a("transparent"),r.renderer.gridContainer.background.fillOpacity=0,r.renderer.inside=!1,r.renderer.labels.template.verticalCenter="bottom",r.renderer.labels.template.padding(0,0,0,2),r.renderer.labels.template.fill=k.a("#fff"),r.renderer.fontSize="0.8em";var c=n.series.push(new S.a);c.dataFields.dateX="Date",c.dataFields.openValueY="Open",c.dataFields.valueY="Close",c.dataFields.lowValueY="Low",c.dataFields.highValueY="High",c.clustered=!1,c.tooltipText="open: {openValueY.value}\nlow: {lowValueY.value}\nhigh: {highValueY.value}\nclose: {valueY.value}",c.name="MSFT",c.defaultState.transitionDuration=0,c.riseFromOpenState.properties.fill=k.a("#4cb65d"),c.dropFromOpenState.properties.fill=k.a("#f53d36"),c.riseFromOpenState.properties.stroke=k.a("#4cb65d"),c.dropFromOpenState.properties.stroke=k.a("#f53d36");var i=n.yAxes.push(new S.d);i.tooltip.disabled=!0,i.height=k.c(35),i.zIndex=3,i.marginTop=30,i.renderer.baseGrid.disabled=!0,i.renderer.inside=!1,i.renderer.labels.template.verticalCenter="bottom",i.renderer.labels.template.padding(0,0,0,2),i.renderer.labels.template.fill=k.a("#fff"),i.renderer.fontSize="0.8em",i.renderer.gridContainer.background.fill=k.a("transparent"),i.renderer.gridContainer.background.fillOpacity=0;var o=n.series.push(new S.b);o.dataFields.dateX="Date",o.clustered=!1,o.dataFields.valueY="Volume",o.yAxis=i,o.tooltipText="{valueY.value}",o.columns.template.fill=k.a("#1e88e5"),o.columns.template.stroke=k.a("#1e88e5"),o.name="Series 2",o.groupFields.valueY="sum",o.defaultState.transitionDuration=0,n.cursor=new S.f,n.cursor.lineX.stroke=k.a("#ddd"),n.cursor.lineY.stroke=k.a("#ddd"),n.cursor.behavior="none"}return function(){n&&e&&n.dispose()}}),[e,t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"chartdiv",style:{width:"100%",height:"100%"}}))},w=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement("main",{className:"root__main"},l.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F,N=n(91),P=n.n(N),C=n(123),D=function(){P.a.interceptors.request.use((function(e){return e.headers.hasOwnProperty("logo")?(e.url="".concat("https://logo.clearbit.com/","?").concat(e.url),e):(e.url="".concat("https://www.alphavantage.co/query","?").concat(e.url,"&apikey=").concat("YQ7239DKNEZOMQLF"),e)}),(function(e){return Object(C.a)(new Error(e))}))},Y=n(250),x=n(247),R=n(107),A=n(197),L=n(175),I=n(249),M=Object(I.a)((F={},Object(h.a)(F,r.Success,(function(e,t){return t.payload.ticker?Object(L.a)({},e,{loaded:!0,collection:Object.entries(t.payload.ticker).reduce((function(e,t){return[].concat(Object(y.a)(e),[{"Adj Close":t[1]["5. adjusted close"],Close:Number(t[1]["4. close"]),Date:new Date(t[0]),High:t[1]["2. high"],Low:t[1]["3. low"],Open:Number(t[1]["1. open"]),Volume:Number(t[1]["6. volume"])}])}),[])}):e})),Object(h.a)(F,c.Success,(function(e,t){return t.payload.searchResult?Object(L.a)({},e,{searchResult:t.payload.searchResult}):e})),Object(h.a)(F,i.Success,(function(e,t){return t.payload.indicators?Object(L.a)({},e,{indicators:t.payload.indicators}):e})),F),{collection:null,loaded:!1,searchResult:[],indicators:[]}),T=n(198),V=n(245),G=n(246),z=n(192),H=Object(Y.a)(),B=Object(R.combineReducers)({stock:M}),J=Object(R.createStore)(B,Object(A.composeWithDevTools)(Object(R.applyMiddleware)(H)));H.run(Object(x.a)((function(e){return e.pipe(Object(T.a)(r.Pending),Object(V.a)((function(e){return(t=e.payload,P.a.get("&function=TIME_SERIES_DAILY_ADJUSTED&symbol=".concat(t,"&outputsize=compact")).pipe(Object(b.a)((function(e){return e.data})))).pipe(Object(b.a)((function(e){return{type:r.Success,payload:{ticker:e["Time Series (Daily)"]}}})),Object(G.a)((function(e){return Object(C.a)(e)})));var t})))}),(function(e){return e.pipe(Object(T.a)(c.Pending),Object(V.a)((function(e){return(t=e.payload,P.a.get("&function=SYMBOL_SEARCH&keywords=".concat(t)).pipe(Object(b.a)((function(e){return e.data.bestMatches})))).pipe(Object(b.a)((function(e){return{type:c.Success,payload:{searchResult:e}}})),Object(G.a)((function(e){return Object(C.a)(e)})));var t})))}),(function(e){return e.pipe(Object(T.a)(i.Pending),Object(V.a)((function(e){return(t=e.payload,Object(z.a)(P.a.get("&function=RSI&symbol=".concat(t,"&interval=monthly&time_period=30&series_type=open")).pipe(Object(b.a)((function(e){return e.data}))),P.a.get("&function=CCI&symbol=".concat(t,"&interval=monthly&time_period=30")).pipe(Object(b.a)((function(e){return e.data}))),P.a.get("&function=MACD&symbol=".concat(t,"&interval=monthly&series_type=open")).pipe(Object(b.a)((function(e){return e.data}))),P.a.get("&function=EMA&symbol=".concat(t,"&interval=monthly&time_period=30&series_type=open")).pipe(Object(b.a)((function(e){return e.data}))))).pipe(Object(b.a)((function(e){return{type:i.Success,payload:{indicators:e}}})),Object(G.a)((function(e){return Object(C.a)(e)})));var t})))}))),D(),u.a.render(l.a.createElement(p.a,{store:J},l.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[205,1,3]]]);
//# sourceMappingURL=main.f2d5e8ea.chunk.js.map